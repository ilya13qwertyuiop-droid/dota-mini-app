<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dota 2 Helper</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --bg-main: #050509;
        --glass-bg: rgba(15, 15, 20, 0.82);
        --glass-border: rgba(255, 255, 255, 0.06);
        --accent: #3a7bd5;
        --accent-soft: rgba(58, 123, 213, 0.18);
        --text-main: #f5f5f7;
        --text-muted: #9b9ba1;
        --nav-height: 70px;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        background:
            radial-gradient(circle at 0% 0%, rgba(255, 0, 92, 0.24), transparent 55%),
            radial-gradient(circle at 100% 100%, rgba(255, 0, 0, 0.18), transparent 55%),
            radial-gradient(circle at 0% 100%, rgba(120, 0, 40, 0.18), transparent 55%),
            linear-gradient(145deg, #020107 0%, #050509 45%, #050307 100%);
        min-height: 100vh;
        color: var(--text-main);
        padding-bottom: var(--nav-height);
    }

    .app-container {
        max-width: 620px;
        margin: 0 auto;
        min-height: 100vh;
        position: relative;
    }

    .page {
        display: none;
        padding: 20px;
        animation: fadeIn 0.3s ease;
    }

    .page.active {
        display: block;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .dashboard-header {
        text-align: center;
        margin-bottom: 24px;
    }

    .dashboard-header h1 {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 6px;
    }

    .dashboard-header p {
        font-size: 14px;
        color: var(--text-muted);
    }

    .card {
        background: var(--glass-bg);
        border-radius: 20px;
        padding: 20px;
        margin-bottom: 16px;
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(22px) saturate(140%);
        -webkit-backdrop-filter: blur(22px) saturate(140%);
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.6);
    }

    .card-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 12px;
    }

    .card-icon {
        font-size: 24px;
    }

    .card-title {
        font-size: 16px;
        font-weight: 600;
    }

    .card-content {
        font-size: 14px;
        color: var(--text-muted);
        line-height: 1.6;
    }

    .position-result {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 16px;
        background: rgba(58, 123, 213, 0.12);
        border-radius: 14px;
        margin-top: 12px;
        border: 1px solid rgba(58, 123, 213, 0.3);
    }

    .position-result-text {
        font-size: 18px;
        font-weight: 600;
    }

    .position-result-date {
        font-size: 12px;
        color: var(--text-muted);
        margin-top: 4px;
    }

    .btn-small {
        padding: 8px 16px;
        background: var(--accent);
        color: #fff;
        border: none;
        border-radius: 999px;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.15s ease;
    }

    .btn-small:hover {
        transform: translateY(-1px);
        box-shadow: 0 8px 16px rgba(58, 123, 213, 0.4);
    }

    .hero-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-top: 12px;
    }

    .hero-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 14px;
        background: rgba(255, 255, 255, 0.04);
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .hero-rank {
        font-size: 16px;
        font-weight: 700;
        color: #00d2ff;
        min-width: 30px;
    }

    .hero-name {
        font-size: 14px;
        font-weight: 500;
        flex: 1;
    }

    .hero-tags {
        font-size: 11px;
        color: var(--text-muted);
        margin-top: 2px;
    }

    .tip-card {
        padding: 16px;
        background: linear-gradient(135deg, rgba(58, 123, 213, 0.15), rgba(0, 210, 255, 0.1));
        border-radius: 14px;
        border: 1px solid rgba(58, 123, 213, 0.3);
    }

    .quick-actions {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
        margin-top: 12px;
    }

    .action-btn {
        padding: 14px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        color: var(--text-main);
        font-size: 15px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.15s ease;
        text-align: left;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .action-btn:hover {
        background: rgba(255, 255, 255, 0.08);
        border-color: rgba(58, 123, 213, 0.5);
        transform: translateY(-1px);
    }

    .action-btn.disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .action-btn.disabled:hover {
        transform: none;
    }

    .badge-soon {
        margin-left: auto;
        padding: 4px 10px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 999px;
        font-size: 11px;
        color: var(--text-muted);
    }

    .quiz-container {
        background: var(--glass-bg);
        border-radius: 26px;
        box-shadow: 0 24px 60px rgba(0, 0, 0, 0.9);
        padding: 28px 20px 26px;
        backdrop-filter: blur(22px) saturate(140%);
        border: 1px solid var(--glass-border);
    }

    h1 {
        font-size: 22px;
        color: var(--text-main);
        margin-bottom: 6px;
        font-weight: 700;
        letter-spacing: 0.02em;
        text-align: center;
    }

    .subtitle {
        font-size: 14px;
        color: var(--text-muted);
        margin-bottom: 22px;
        text-align: center;
    }

    .progress-bar {
        width: 100%;
        height: 6px;
        background: rgba(255, 255, 255, 0.06);
        border-radius: 999px;
        margin-bottom: 22px;
        overflow: hidden;
    }

    .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #3a7bd5, #00d2ff);
        width: 0%;
        transition: width 0.3s ease;
        box-shadow: 0 0 12px rgba(0, 210, 255, 0.6);
    }

    .question {
        font-size: 17px;
        color: var(--text-main);
        margin-bottom: 18px;
        font-weight: 600;
        line-height: 1.5;
        text-align: left;
    }

    .answers {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-bottom: 12px;
    }

    .answer-btn {
        background: radial-gradient(circle at 0 0, rgba(58, 123, 213, 0.12), rgba(10, 10, 16, 0.96));
        border: 1px solid rgba(255, 255, 255, 0.06);
        padding: 12px 13px;
        border-radius: 18px;
        font-size: 15px;
        cursor: pointer;
        transition: all 0.18s ease;
        text-align: left;
        color: var(--text-main);
        font-weight: 500;
        line-height: 1.4;
        display: flex;
        align-items: flex-start;
        gap: 10px;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.6), 0 10px 24px rgba(0, 0, 0, 0.8);
    }

    @media (hover: hover) and (pointer: fine) {
        .answer-btn:hover {
            background: radial-gradient(circle at 0 0, rgba(58, 123, 213, 0.18), rgba(15, 15, 22, 0.98));
            border-color: rgba(58, 123, 213, 0.45);
            transform: translateY(-1px);
        }
    }

    .answer-btn.selected {
        background: radial-gradient(circle at 0 0, rgba(58, 123, 213, 0.28), rgba(8, 8, 14, 0.98));
        border-color: #3a7bd5;
        transform: scale(0.98);
    }

    .answer-btn span.emoji {
        font-size: 18px;
        flex-shrink: 0;
    }

    .answer-btn span.text {
        flex: 1;
    }

    .result {
        display: none;
        text-align: center;
    }

    .result.active {
        display: block;
        animation: fadeIn 0.45s ease;
    }

    .result-header {
        font-size: 32px;
        margin-bottom: 6px;
    }

    .result-title {
        font-size: 13px;
        color: var(--text-muted);
        margin-bottom: 16px;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .position-primary {
        font-size: 18px;
        color: var(--text-main);
        margin-bottom: 10px;
        font-weight: 600;
        line-height: 1.3;
    }

    .position-badge {
        display: inline-block;
        padding: 8px 18px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.08);
        border: 2px solid rgba(255, 255, 255, 0.25);
        color: #fff;
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 20px;
        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1), 0 8px 24px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.15);
        text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
    }

    .description {
        font-size: 14px;
        color: var(--text-muted);
        line-height: 1.6;
        margin-bottom: 20px;
        white-space: pre-line;
        text-align: left;
        background: rgba(58, 123, 213, 0.08);
        border: 1px solid rgba(58, 123, 213, 0.25);
        border-radius: 16px;
        padding: 16px;
    }

    .hidden {
        display: none;
    }

    .btn-outline {
        background: transparent;
        color: var(--text-main);
        border: 1px solid rgba(58, 123, 213, 0.5);
        padding: 11px 26px;
        border-radius: 999px;
        font-size: 15px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.15s ease;
        display: block;
        margin: 0 auto 12px auto;
        width: fit-content;
    }

    .btn-outline:hover {
        background: rgba(58, 123, 213, 0.1);
        border-color: #3a7bd5;
    }

    .btn-secondary {
        background: transparent;
        color: var(--text-muted);
        border: 1px solid rgba(255, 255, 255, 0.15);
        padding: 11px 26px;
        border-radius: 999px;
        font-size: 15px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.15s ease;
        display: block;
        margin: 0 auto;
        width: fit-content;
    }

    .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.05);
        border-color: rgba(255, 255, 255, 0.25);
        color: var(--text-main);
    }

    .position-select-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 10px;
        margin-top: 16px;
    }

    .position-option {
        background: radial-gradient(circle at 0 0, rgba(58, 123, 213, 0.12), rgba(10, 10, 16, 0.96));
        border: 1px solid rgba(255, 255, 255, 0.06);
        padding: 14px 16px;
        border-radius: 16px;
        cursor: pointer;
        transition: all 0.18s ease;
        text-align: left;
        color: var(--text-main);
        font-weight: 500;
        font-size: 15px;
    }

    .position-option:hover {
        background: radial-gradient(circle at 0 0, rgba(58, 123, 213, 0.18), rgba(15, 15, 22, 0.98));
        border-color: rgba(58, 123, 213, 0.45);
        transform: translateY(-1px);
    }

    .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        height: var(--nav-height);
        background: rgba(10, 10, 15, 0.95);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);
        border-top: 1px solid rgba(255, 255, 255, 0.08);
        display: flex;
        justify-content: space-around;
        align-items: center;
        padding: 0 20px;
        z-index: 1000;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.6);
    }

    .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        padding: 8px 16px;
        cursor: pointer;
        transition: all 0.2s ease;
        border-radius: 12px;
        color: var(--text-muted);
    }

    .nav-item:hover {
        background: rgba(255, 255, 255, 0.05);
    }

    .nav-item.active {
        color: #00d2ff;
    }

    .nav-icon {
        font-size: 24px;
        transition: transform 0.2s ease;
    }

    .nav-item.active .nav-icon {
        transform: scale(1.1);
    }

    .nav-label {
        font-size: 11px;
        font-weight: 500;
        letter-spacing: 0.02em;
    }

    .placeholder {
        text-align: center;
        padding: 60px 20px;
    }

    .placeholder-icon {
        font-size: 64px;
        margin-bottom: 16px;
        opacity: 0.5;
    }

    .placeholder-title {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 8px;
    }

    .placeholder-text {
        font-size: 14px;
        color: var(--text-muted);
    }

    @media (max-width: 380px) {
        h1 {
            font-size: 20px;
        }
        .question {
            font-size: 16px;
        }
        .answer-btn {
            font-size: 14px;
            padding: 10px 11px;
        }
    }
</style>
</head>
<body>
    <div class="app-container">
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Dashboard) -->
        <div id="page-home" class="page active">
            <div class="dashboard-header">
                <h1>üëã –ü—Ä–∏–≤–µ—Ç!</h1>
                <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Dota 2 Helper</p>
            </div>

            <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">‚ö°</span>
                    <span class="card-title">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</span>
                </div>
                <div class="quick-actions">
                    <button class="action-btn" onclick="goToQuiz()">
                        <span>üéØ</span>
                        <span>–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –ø–æ –ø–æ–∑–∏—Ü–∏—è–º</span>
                    </button>
                    <button class="action-btn" onclick="goToHeroQuiz()">
                        <span>ü¶∏</span>
                        <span>–ü–æ–¥–æ–±—Ä–∞—Ç—å –≥–µ—Ä–æ—è</span>
                    </button>
                    <button class="action-btn disabled">
                        <span>‚öîÔ∏è</span>
                        <span>–î—Ä–∞—Ñ—Ç –ø–æ–º–æ—â–Ω–∏–∫</span>
                        <span class="badge-soon">–°–∫–æ—Ä–æ</span>
                    </button>
                </div>
            </div>

            <!-- –°–æ–≤–µ—Ç –¥–Ω—è -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">üí°</span>
                    <span class="card-title">–°–æ–≤–µ—Ç –¥–Ω—è</span>
                </div>
                <div class="tip-card">
                    <div class="card-content" id="dailyTip">
                        –†–æ—É–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä—É–Ω—ã –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã! –≠—Ç–æ –¥–∞—ë—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥–µ –≤ –æ–ø—ã—Ç–µ –∏ —Ä–µ—Å—É—Ä—Å–∞—Ö.
                    </div>
                </div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–≤–∏–∑–æ–≤ -->
        <div id="page-quiz" class="page">
            <!-- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–≤–∏–∑–æ–≤ -->
            <div id="quiz-list">
                <div class="dashboard-header">
                    <h1>üéØ –ö–≤–∏–∑—ã</h1>
                    <p>–£–∑–Ω–∞–π –±–æ–ª—å—à–µ –æ —Å–≤–æ—ë–º –∏–≥—Ä–æ–≤–æ–º —Å—Ç–∏–ª–µ</p>
                </div>

                <!-- –ö–≤–∏–∑ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üéÆ</span>
                        <span class="card-title">–ö–∞–∫–∞—è —Ç–≤–æ—è –ø–æ–∑–∏—Ü–∏—è?</span>
                    </div>
                    <div class="card-content" style="margin-bottom: 16px;">
                        –ü—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –∑–∞ 2 –º–∏–Ω—É—Ç—ã –∏ —É–∑–Ω–∞–π, –Ω–∞ –∫–∞–∫–æ–π —Ä–æ–ª–∏ —Ç—ã —Ä–∞—Å–∫—Ä–æ–µ—à—å—Å—è –ª—É—á—à–µ –≤—Å–µ–≥–æ
                    </div>
                    <button class="btn-small" onclick="startPositionQuiz()" style="width: 100%; padding: 12px;">
                        –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç ‚Üí
                    </button>
                </div>

                <!-- –ö–≤–∏–∑ –ø–æ –≥–µ—Ä–æ—è–º -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ü¶∏</span>
                        <span class="card-title">–ü–æ–¥–±–æ—Ä –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –≥–µ—Ä–æ—è</span>
                    </div>
                    <div class="card-content" style="margin-bottom: 16px;">
                        –û—Ç–≤–µ—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ –ø–æ–ª—É—á–∏ —Å–ø–∏—Å–æ–∫ –≥–µ—Ä–æ–µ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –ø–æ–¥ —Ç–≤–æ–π —Å—Ç–∏–ª—å –∏–≥—Ä—ã
                    </div>
                    <button class="btn-small" onclick="startHeroQuiz()" style="width: 100%; padding: 12px;">
                        –ü–æ–¥–æ–±—Ä–∞—Ç—å –≥–µ—Ä–æ—è ‚Üí
                    </button>
                </div>

                <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å) -->
                <div class="card" id="quizPageLastResult" style="display: none;">
                    <div class="card-header">
                        <span class="card-icon">üìä</span>
                        <span class="card-title">–¢–≤–æ–π –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</span>
                    </div>
                    <div class="position-result">
                        <div>
                            <div class="position-result-text" id="quizPagePosition">Pos 4 ‚Äî –†–æ—É–º–µ—Ä</div>
                            <div class="position-result-date" id="quizPageDate">–ü—Ä–æ–π–¥–µ–Ω: —Å–µ–≥–æ–¥–Ω—è</div>
                        </div>
                        <button class="btn-small" onclick="startPositionQuiz()">–ü–µ—Ä–µ—Å–¥–∞—Ç—å</button>
                    </div>
                </div>
            </div>

            <!-- –ö–≤–∏–∑ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º -->
            <div id="quiz-content-container" style="display: none;">
                <div class="quiz-container">
                    <div class="quiz-content">
                        <h1>üéÆ –ö–∞–∫–∞—è —Ç–≤–æ—è –ø–æ–∑–∏—Ü–∏—è –≤ Dota 2?</h1>
                        <p class="subtitle">–ü—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –∏ —É–∑–Ω–∞–π, –Ω–∞ –∫–∞–∫–æ–π —Ä–æ–ª–∏ —Ç—ã —Ä–∞—Å–∫—Ä–æ–µ—à—å—Å—è –ª—É—á—à–µ –≤—Å–µ–≥–æ</p>
                        
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressBar"></div>
                        </div>

                        <div class="question" id="question"></div>
                        <div class="answers" id="answers"></div>
                    </div>

                    <div class="result" id="result">
                        <div class="result-header">üéØ</div>
                        <div class="result-title">–¢–≤–æ—è –ø–æ–∑–∏—Ü–∏—è</div>

                        <div class="position-primary" id="positionPrimary"></div>
                        <div class="position-badge" id="positionBadge"></div>

                        <button class="btn-outline" onclick="togglePositionDetails()">–ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏</button>
                        <div class="description hidden" id="positionDescription"></div>
                        <button class="btn-secondary" onclick="backToQuizList()">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–≤–∏–∑–∞–º</button>
                    </div>
                </div>
            </div>

            <!-- –ö–≤–∏–∑ –ø–æ –≥–µ—Ä–æ—è–º -->
            <div id="hero-quiz-container" style="display: none;">
                <div class="quiz-container">
                    <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
                    <div id="hero-start">
                        <h1>ü¶∏ –ü–æ–¥–±–æ—Ä –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –≥–µ—Ä–æ—è</h1>
                        <p class="subtitle">–£–∑–Ω–∞–π, –∫–∞–∫–∏–µ –≥–µ—Ä–æ–∏ –ø–æ–¥—Ö–æ–¥—è—Ç –ø–æ–¥ —Ç–≤–æ–π —Å—Ç–∏–ª—å –∏–≥—Ä—ã</p>

                        <div class="answers">
                            <button class="answer-btn" id="useSavedPositionBtn" onclick="heroQuiz.useSavedPosition()">
                                <span class="emoji">üìä</span>
                                <span class="text" id="savedPositionText">–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –ø–æ –ø–æ–∑–∏—Ü–∏—è–º</span>
                            </button>
                            <button class="answer-btn" onclick="heroQuiz.showPositionSelect()">
                                <span class="emoji">üéØ</span>
                                <span class="text">–í—ã–±—Ä–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é –≤—Ä—É—á–Ω—É—é</span>
                            </button>
                        </div>
                    </div>

                    <!-- –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –ø–æ–∑–∏—Ü–∏–∏ -->
                    <div id="hero-position-select" style="display: none;">
                        <h1>üéØ –í—ã–±–µ—Ä–∏ –ø–æ–∑–∏—Ü–∏—é</h1>
                        <p class="subtitle">–ù–∞ –∫–∞–∫–æ–π –ø–æ–∑–∏—Ü–∏–∏ —Ç—ã —Ö–æ—á–µ—à—å –∏–≥—Ä–∞—Ç—å?</p>

                        <div class="position-select-grid">
                            <button class="position-option" onclick="heroQuiz.selectPosition(0)">
                                <strong>–ü–æ–∑–∏—Ü–∏—è 1 ‚Äî –ö–µ—Ä—Ä–∏</strong>
                            </button>
                            <button class="position-option" onclick="heroQuiz.selectPosition(1)">
                                <strong>–ü–æ–∑–∏—Ü–∏—è 2 ‚Äî –ú–∏–¥–µ—Ä</strong>
                            </button>
                            <button class="position-option" onclick="heroQuiz.selectPosition(2)">
                                <strong>–ü–æ–∑–∏—Ü–∏—è 3 ‚Äî –•–∞—Ä–¥–ª–µ–π–Ω–µ—Ä</strong>
                            </button>
                            <button class="position-option" onclick="heroQuiz.selectPosition(3)">
                                <strong>–ü–æ–∑–∏—Ü–∏—è 4 ‚Äî –†–æ—É–º–µ—Ä</strong>
                            </button>
                            <button class="position-option" onclick="heroQuiz.selectPosition(4)">
                                <strong>–ü–æ–∑–∏—Ü–∏—è 5 ‚Äî –§—É–ª–ª-—Å–∞–ø–ø–æ—Ä—Ç</strong>
                            </button>
                        </div>

                        <button class="btn-secondary" onclick="heroQuiz.backToStart()" style="margin-top: 20px;">‚Üê –ù–∞–∑–∞–¥</button>
                    </div>

                    <!-- –í–æ–ø—Ä–æ—Å—ã -->
                    <div id="hero-questions" style="display: none;">
                        <h1>ü¶∏ –ü–æ–¥–±–æ—Ä –≥–µ—Ä–æ—è</h1>
                        <p class="subtitle" id="heroQuizSubtitle">–û—Ç–≤–µ—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤</p>

                        <div class="progress-bar">
                            <div class="progress-fill" id="heroProgressBar"></div>
                        </div>

                        <div class="question" id="heroQuestion"></div>
                        <div class="answers" id="heroAnswers"></div>
                    </div>

                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
                    <div id="hero-result" style="display: none;">
                        <div class="result-header">ü¶∏</div>
                        <div class="result-title" id="heroResultPosition">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –¥–ª—è –ö–µ—Ä—Ä–∏</div>

                        <div class="position-primary">–¢–æ–ø-5 –≥–µ—Ä–æ–µ–≤ –ø–æ–¥ —Ç–≤–æ–π —Å—Ç–∏–ª—å</div>

                        <div class="hero-list" id="heroResultList"></div>

                        <div class="description" id="heroResultDescription" style="margin-top: 16px;"></div>

                        <button class="btn-outline" onclick="heroQuiz.restart()">–ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
                        <button class="btn-secondary" onclick="backToQuizList()">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–≤–∏–∑–∞–º</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (–∑–∞–≥–ª—É—à–∫–∞) -->
        <div id="page-database" class="page">
            <div class="placeholder">
                <div class="placeholder-icon">üìä</div>
                <div class="placeholder-title">–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</div>
                <div class="placeholder-text">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–µ—Ä–æ–µ–≤, –º–µ—Ç–∞-–æ—Ç—á—ë—Ç—ã –∏ —Å–∏–Ω–µ—Ä–≥–∏—è –∫–æ–º–∞–Ω–¥. –°–∫–æ—Ä–æ...</div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è (–∑–∞–≥–ª—É—à–∫–∞) -->
        <div id="page-profile" class="page">
            <div class="placeholder">
                <div class="placeholder-icon">‚öôÔ∏è</div>
                <div class="placeholder-title">–ü—Ä–æ—Ñ–∏–ª—å</div>
                <div class="placeholder-text">–ò—Å—Ç–æ—Ä–∏—è —Ç–µ—Å—Ç–æ–≤ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –°–∫–æ—Ä–æ...</div>
            </div>
        </div>

        <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
        <div class="bottom-nav">
            <div class="nav-item active" onclick="switchPage('home')">
                <div class="nav-icon">üè†</div>
                <div class="nav-label">–ì–ª–∞–≤–Ω–∞—è</div>
            </div>
            <div class="nav-item" onclick="switchPage('quiz')">
                <div class="nav-icon">üéØ</div>
                <div class="nav-label">–ö–≤–∏–∑—ã</div>
            </div>
            <div class="nav-item" onclick="switchPage('database')">
                <div class="nav-icon">üìä</div>
                <div class="nav-label">–ë–∞–∑–∞</div>
            </div>
            <div class="nav-item" onclick="switchPage('profile')">
                <div class="nav-icon">‚öôÔ∏è</div>
                <div class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</div>
            </div>
        </div>
    </div>

    <script>
        const tg = window.Telegram && window.Telegram.WebApp ? window.Telegram.WebApp : null;
        if (tg) {
            tg.ready();
            tg.expand();
        }

        // ========== –ö–í–ò–ó –ü–û –ü–û–ó–ò–¶–ò–Ø–ú ==========
        const quizData = [
            {
                question: "–û—Ç –∫–∞–∫–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –≤ –∏–≥—Ä–µ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ?",
                answers: [
                    {
                        text: "üí∞ –ö–æ–≥–¥–∞ —è –≤–∏–∂—É, —á—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—Ä—É—é –ø–æ –∑–æ–ª–æ—Ç—É –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –≤—Ä–∞–∂–µ—Å–∫–∏–µ –≥–µ—Ä–æ–∏",
                        scores: { pos1: 3, pos2: 2, pos3: 1, pos4: 1, pos5: 1 }
                    },
                    {
                        text: "üî™ –ö–æ–≥–¥–∞ —è –æ–¥–∏–Ω –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø–æ–π–º–∞–ª –∏ —Å—Ç—ë—Ä –≤—Ä–∞–≥–∞ –∑–∞ –ø–∞—Ä—É —Å–µ–∫—É–Ω–¥",
                        scores: { pos1: 2, pos2: 3, pos3: 1, pos4: 1, pos5: 1 }
                    },
                    {
                        text: "‚öîÔ∏è –ö–æ–≥–¥–∞ —è –ø–µ—Ä–≤—ã–π –ø—Ä—ã–≥–∞—é –≤ –¥—Ä–∞–∫—É –∏ –∑–∞–∫—Ä—ã–≤–∞—é –≤—Ä–∞–∂–µ—Å–∫–∏—Ö –≥–µ—Ä–æ–µ–≤",
                        scores: { pos1: 1, pos2: 2, pos3: 3, pos4: 2, pos5: 1 }
                    },
                    {
                        text: "ü§ù –ö–æ–≥–¥–∞ –º–æ—è –ø–æ–º–æ—â—å —Å–ø–∞—Å–∞–µ—Ç —Å–æ—é–∑–Ω–∏–∫–æ–≤ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –º–æ–º–µ–Ω—Ç",
                        scores: { pos1: 1, pos2: 1, pos3: 1, pos4: 3, pos5: 3 }
                    }
                ]
            },
            {
                question: "–ü–µ—Ä–≤—ã–µ 10 –º–∏–Ω—É—Ç –∏–≥—Ä—ã. –ß—Ç–æ —Ç—ã —á–∞—â–µ –≤—Å–µ–≥–æ –¥–µ–ª–∞–µ—à—å?",
                answers: [
                    {
                        text: "üåæ –°–æ—Å—Ä–µ–¥–æ—Ç–∞—á–∏–≤–∞—é—Å—å –Ω–∞ –¥–æ–±–∏–≤–∞–Ω–∏–∏ –∫—Ä–∏–ø–æ–≤ –∏ —Å—Ç–∞—Ä–∞—é—Å—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ñ–∞—Ä–º–∏—Ç—å",
                        scores: { pos1: 3, pos2: 2, pos3: 2, pos4: 0, pos5: 0 }
                    },
                    {
                        text: "‚öñÔ∏è –•–æ—á—É –ø–µ—Ä–µ–∏–≥—Ä–∞—Ç—å –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ –ª–∏–Ω–∏–∏ –∏ –Ω–∞—á–∞—Ç—å –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ –∫–∞—Ä—Ç–µ",
                        scores: { pos1: 1, pos2: 3, pos3: 2, pos4: 1, pos5: 1 }
                    },
                    {
                        text: "‚öîÔ∏è –ò—â—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∞–≥—Ä–µ—Å—Å–∏–∏ –Ω–∞ –ª–∏–Ω–∏–∏ –∏ —Å—Ç–∞—Ä–∞—é—Å—å –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞—Ç—å",
                        scores: { pos1: 1, pos2: 2, pos3: 3, pos4: 2, pos5: 2 }
                    },
                    {
                        text: "üó∫Ô∏è –ü–æ–º–æ–≥–∞—é –Ω–∞ –ª–∏–Ω–∏—è—Ö ‚Äî –¥–∞—é —Ç–ø –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é —Ä—É–Ω—ã/–≤–∏–∂–Ω",
                        scores: { pos1: 0, pos2: 1, pos3: 0, pos4: 2, pos5: 3 }
                    }
                ]
            },
            {
                question: "–í–∏–¥–∏—à—å, —á—Ç–æ –≤—Ä–∞–≥–∏ –Ω–∞—á–∞–ª–∏ –¥—Ä–∞–∫—É –Ω–∞ –∫–∞—Ä—Ç–µ. –ö–∞–∫ —Ç—ã —Ä–µ–∞–≥–∏—Ä—É–µ—à—å?",
                answers: [
                    {
                        text: "üìä –û—Ü–µ–Ω–∏–≤–∞—é –≤—ã–≥–æ–¥—É. –ï—Å–ª–∏ –Ω–µ –≤—ã–≥–æ–¥–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∞—é —Ñ–∞—Ä–º–∏—Ç—å –∏–ª–∏ —Å–ø–ª–∏—Ç-–ø—É—à—É",
                        scores: { pos1: 3, pos2: 1, pos3: 1, pos4: 0, pos5: 0 }
                    },
                    {
                        text: "‚öîÔ∏è –°—Ä–∞–∑—É –¥–∞—é –¢–ü, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –∫–æ–º–∞–Ω–¥–µ",
                        scores: { pos1: 1, pos2: 1, pos3: 1, pos4: 3, pos5: 3 }
                    },
                    {
                        text: "üéØ –ü—ã—Ç–∞—é—Å—å '–≤—ã–∫–ª—é—á–∏—Ç—å' –æ–ø–∞—Å–Ω–æ–≥–æ –≤—Ä–∞–∂–µ—Å–∫–æ–≥–æ –≥–µ—Ä–æ—è",
                        scores: { pos1: 1, pos2: 2, pos3: 3, pos4: 2, pos5: 1 }
                    },
                    {
                        text: "üíö –î–µ—Ä–∂—É –ø–æ–∑–∏—Ü–∏—é, —á—Ç–æ–±—ã –≥—Ä–∞–º–æ—Ç–Ω–æ —Ä–∞—Å–∫–∏–Ω—É—Ç—å –∫–Ω–æ–ø–∫–∏",
                        scores: { pos1: 3, pos2: 1, pos3: 1, pos4: 1, pos5: 3 }
                    }
                ]
            },
            {
                question: "–ö–∞–∫–∏—Ö –≥–µ—Ä–æ–µ–≤ —Ç—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—à—å?",
                answers: [
                    {
                        text: "üíé –ì–µ—Ä–æ–µ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–∏–ª—å–Ω—ã–º–∏ —Å –¥–æ—Ä–æ–≥–∏–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏",
                        scores: { pos1: 3, pos2: 2, pos3: 1, pos4: 1, pos5: 1 }
                    },
                    {
                        text: "üéØ –ì–µ—Ä–æ–µ–≤ —Å –±—ë—Ä—Å—Ç —É—Ä–æ–Ω–æ–º ‚Äî —É–±–∏–ª –∏ —É—à—ë–ª",
                        scores: { pos1: 1, pos2: 3, pos3: 1, pos4: 1, pos5: 0 }
                    },
                    {
                        text: "üõ°Ô∏è –ì–µ—Ä–æ–µ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–¥–µ—Ä–∂–∏–≤–∞—é—Ç –º–Ω–æ–≥–æ —É—Ä–æ–Ω–∞",
                        scores: { pos1: 1, pos2: 1, pos3: 3, pos4: 2, pos5: 1 }
                    },
                    {
                        text: "ü§ù –ì–µ—Ä–æ–µ–≤ —Å –ø–æ–ª–µ–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã (—Å—Ç–∞–Ω—ã, —Å–µ–π–≤—ã, —Ö–∏–ª)",
                        scores: { pos1: 0, pos2: 0, pos3: 1, pos4: 3, pos5: 3 }
                    }
                ]
            },
            {
                question: "–ù–∞ —á—Ç–æ —Ç—ã –æ–±—Ä–∞—â–∞–µ—à—å –≤–Ω–∏–º–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ü–µ –∏–≥—Ä—ã (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)?",
                answers: [
                    {
                        text: "üìä –ó–æ–ª–æ—Ç–æ/–§—Ä–∞–≥–∏/–î–æ–±–∏—Ç–æ –∫—Ä–∏–ø–æ–≤",
                        scores: { pos1: 3, pos2: 2, pos3: 2, pos4: 1, pos5: 1 }
                    },
                    {
                        text: "‚öîÔ∏è –§—Ä–∞–≥–∏ –∏ –Ω–∞–Ω–µ—Å—ë–Ω–Ω—ã–π —É—Ä–æ–Ω",
                        scores: { pos1: 3, pos2: 3, pos3: 1, pos4: 1, pos5: 1 }
                    },
                    {
                        text: "üéØ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ –≤–ø–∏—Ç–∞–Ω–Ω–æ–≥–æ —É—Ä–æ–Ω–∞",
                        scores: { pos1: 1, pos2: 1, pos3: 3, pos4: 2, pos5: 2 }
                    },
                    {
                        text: "üíö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ (–≤–∞—Ä–¥—ã, –¥–∞—Å—Ç—ã), –∞—Å—Å–∏—Å—Ç–æ–≤, –ª–µ—á–µ–Ω–∏—è",
                        scores: { pos1: 0, pos2: 0, pos3: 0, pos4: 3, pos5: 3 }
                    }
                ]
            }
        ];

        const positionNames = {
            pos1: "Pos 1 ‚Äî –ö–µ—Ä—Ä–∏",
            pos2: "Pos 2 ‚Äî –ú–∏–¥–µ—Ä",
            pos3: "Pos 3 ‚Äî –•–∞—Ä–¥–ª–µ–π–Ω–µ—Ä",
            pos4: "Pos 4 ‚Äî –†–æ—É–º–µ—Ä",
            pos5: "Pos 5 ‚Äî –§—É–ª–ª-—Å–∞–ø–ø–æ—Ä—Ç"
        };

        const positionShortNames = {
            pos1: "–ö–µ—Ä—Ä–∏",
            pos2: "–ú–∏–¥–µ—Ä",
            pos3: "–•–∞—Ä–¥–ª–µ–π–Ω–µ—Ä",
            pos4: "–†–æ—É–º–µ—Ä",
            pos5: "–§—É–ª–ª-—Å–∞–ø–ø–æ—Ä—Ç"
        };

        const positionDescriptions = {
            pos1: "–¢—ã ‚Äî –∫–µ—Ä—Ä–∏, –≥–ª–∞–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —É—Ä–æ–Ω–∞ –∫–æ–º–∞–Ω–¥—ã. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ñ–∞—Ä–º–∏—Ç—å, —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è —Å–∏–ª—å–Ω–µ–µ —Å –∫–∞–∂–¥–æ–π –º–∏–Ω—É—Ç–æ–π. –í –ø–æ–∑–¥–Ω–µ–π –∏–≥—Ä–µ –∏–º–µ–Ω–Ω–æ –æ—Ç —Ç–µ–±—è –∑–∞–≤–∏—Å–∏—Ç –∏—Å—Ö–æ–¥ –¥—Ä–∞–∫.",
            pos2: "–¢—ã ‚Äî –º–∏–¥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–¥–∞—ë—Ç —Ç–µ–º–ø –∏–≥—Ä—ã. –¢—ã –¥–æ–º–∏–Ω–∏—Ä—É–µ—à—å –Ω–∞ –ª–∏–Ω–∏–∏, –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∞–µ—à—å —É—Ä–æ–≤–Ω–∏ –∏ –Ω–∞—á–∏–Ω–∞–µ—à—å –∞–∫—Ç–∏–≤–Ω–æ –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ –∫–∞—Ä—Ç–µ, –ø–æ–º–æ–≥–∞—è —Å–æ—é–∑–Ω–∏–∫–∞–º.",
            pos3: "–¢—ã ‚Äî —Ö–∞—Ä–¥–ª–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã. –¢—ã –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—à—å –¥–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∂–Ω–æ–π –ª–∏–Ω–∏–∏ –∏ –ø–µ—Ä–≤—ã–º –≤—Ö–æ–¥–∏—à—å –≤ –¥—Ä–∞–∫–∏, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—è –≤—Ä–∞–≥–æ–≤.",
            pos4: "–¢—ã ‚Äî —Ä–æ—É–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤ –¥–≤–∏–∂–µ–Ω–∏–∏. –¢—ã –ø–æ–º–æ–≥–∞–µ—à—å –Ω–∞ –≤—Å–µ—Ö –ª–∏–Ω–∏—è—Ö, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—à—å –∫–∞—Ä—Ç—É –∏ —Å–æ–∑–¥–∞—ë—à—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã.",
            pos5: "–¢—ã ‚Äî —Ñ—É–ª–ª-—Å–∞–ø–ø–æ—Ä—Ç, –æ—Å–Ω–æ–≤–∞ –∫–æ–º–∞–Ω–¥—ã. –¢—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—à—å –≤–∏–∂–Ω, –∑–∞—â–∏—â–∞–µ—à—å –∫–µ—Ä—Ä–∏ –Ω–∞ –ª–∏–Ω–∏–∏ –∏ –ø–æ–º–æ–≥–∞–µ—à—å –∫–æ–º–∞–Ω–¥–µ —Å–≤–æ–∏–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏."
        };

        let currentQuestion = 0;
        let scores = { pos1: 0, pos2: 0, pos3: 0, pos4: 0, pos5: 0 };
        let lastResult = null;

        function loadSavedResult() {
            const saved = localStorage.getItem('dota2helper_lastResult');
            if (saved) {
                lastResult = JSON.parse(saved);
                updateQuizPageResult();
                updateHeroQuizStart();
            }
        }

        function saveResult(result) {
            localStorage.setItem('dota2helper_lastResult', JSON.stringify(result));
        }

        loadSavedResult();

        function switchPage(pageName) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));

            document.getElementById(`page-${pageName}`).classList.add('active');
            event.currentTarget.classList.add('active');

            if (pageName === 'quiz') {
                document.getElementById('quiz-list').style.display = 'block';
                document.getElementById('quiz-content-container').style.display = 'none';
                document.getElementById('hero-quiz-container').style.display = 'none';
                updateQuizPageResult();
            }
        }

        function startPositionQuiz() {
            document.getElementById('quiz-list').style.display = 'none';
            document.getElementById('quiz-content-container').style.display = 'block';
            document.getElementById('hero-quiz-container').style.display = 'none';
            initQuiz();
        }

        function backToQuizList() {
            document.getElementById('quiz-list').style.display = 'block';
            document.getElementById('quiz-content-container').style.display = 'none';
            document.getElementById('hero-quiz-container').style.display = 'none';
            updateQuizPageResult();
        }

        function updateQuizPageResult() {
            if (lastResult) {
                document.getElementById('quizPageLastResult').style.display = 'block';
                document.getElementById('quizPagePosition').textContent = lastResult.position;
                document.getElementById('quizPageDate').textContent = `–ü—Ä–æ–π–¥–µ–Ω: ${lastResult.date}`;
            }
        }

        function goToQuiz() {
            switchPage('quiz');
            document.querySelectorAll('.nav-item')[1].classList.add('active');
            document.querySelectorAll('.nav-item')[0].classList.remove('active');
            document.getElementById('quiz-list').style.display = 'block';
            document.getElementById('quiz-content-container').style.display = 'none';
            document.getElementById('hero-quiz-container').style.display = 'none';
            updateQuizPageResult();
        }

        function goToHeroQuiz() {
            switchPage('quiz');
            document.querySelectorAll('.nav-item')[1].classList.add('active');
            document.querySelectorAll('.nav-item')[0].classList.remove('active');
            startHeroQuiz();
        }

        function initQuiz() {
            currentQuestion = 0;
            scores = { pos1: 0, pos2: 0, pos3: 0, pos4: 0, pos5: 0 };
            
            document.querySelector('.quiz-content').style.display = 'block';
            document.getElementById('result').classList.remove('active');
            
            showQuestion();
        }

        function showQuestion() {
            const questionData = quizData[currentQuestion];
            const progress = ((currentQuestion + 1) / quizData.length) * 100;
            
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('question').textContent = questionData.question;
            
            const answersContainer = document.getElementById('answers');
            answersContainer.innerHTML = '';
            
            questionData.answers.forEach((answer, index) => {
                const parts = answer.text.split(' ');
                const emoji = parts[0];
                const text = parts.slice(1).join(' ');
                
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.innerHTML = `
                    <span class="emoji">${emoji}</span>
                    <span class="text">${text}</span>
                `;
                button.onclick = () => selectAnswer(index);
                answersContainer.appendChild(button);
            });
        }

        function selectAnswer(index) {
            const questionData = quizData[currentQuestion];
            const selectedScores = questionData.answers[index].scores;
            
            for (let pos in selectedScores) {
                scores[pos] += selectedScores[pos];
            }
            
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach((btn, i) => {
                if (i === index) {
                    btn.classList.add('selected');
                }
            });
            
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < quizData.length) {
                    showQuestion();
                } else {
                    showResult();
                }
            }, 300);
        }

        function showResult() {
            document.querySelector('.quiz-content').style.display = 'none';
            
            const sortedPositions = Object.entries(scores).sort((a, b) => b[1] - a[1]);
            const firstPos = sortedPositions[0][0];

            lastResult = {
                position: positionNames[firstPos],
                posShort: positionShortNames[firstPos],
                positionIndex: parseInt(firstPos.replace('pos', '')) - 1,
                date: new Date().toLocaleDateString('ru-RU')
            };

            saveResult(lastResult);
            updateQuizPageResult();
            updateHeroQuizStart();

            document.getElementById('positionPrimary').textContent = positionNames[firstPos];
            document.getElementById('positionBadge').textContent = positionShortNames[firstPos];
            document.getElementById('positionDescription').textContent = positionDescriptions[firstPos];
            document.getElementById('positionDescription').classList.add('hidden');

            document.getElementById('result').classList.add('active');
        }

        function togglePositionDetails() {
            const description = document.getElementById('positionDescription');
            const btn = event.target;
            
            if (description.classList.contains('hidden')) {
                description.classList.remove('hidden');
                btn.textContent = '–°–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏';
            } else {
                description.classList.add('hidden');
                btn.textContent = '–ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏';
            }
        }

        // ========== –ö–í–ò–ó –ü–û –ì–ï–†–û–Ø–ú ==========
        const heroQuiz = {
            state: {
                selectedPosition: null,
                currentQuestionIndex: 0,
                answers: [],
                usedSavedPosition: false
            },

            heroDatabase: [
                // –ü–æ–∑–∏—Ü–∏—è 1 - –ö–µ—Ä—Ä–∏
                [
                    { name: "Anti-Mage", tags: ["mobile", "lategame", "splitpush"], difficulty: "medium" },
                    { name: "Juggernaut", tags: ["aggressive", "versatile", "balanced"], difficulty: "easy" },
                    { name: "Phantom Assassin", tags: ["aggressive", "snowball", "burst"], difficulty: "easy" },
                    { name: "Terrorblade", tags: ["farming", "lategame", "splitpush"], difficulty: "hard" },
                    { name: "Slark", tags: ["mobile", "pickoff", "snowball"], difficulty: "medium" },
                    { name: "Spectre", tags: ["farming", "lategame", "teamfight"], difficulty: "easy" },
                    { name: "Faceless Void", tags: ["teamfight", "control", "lategame"], difficulty: "medium" },
                    { name: "Medusa", tags: ["farming", "lategame", "durable"], difficulty: "easy" },
                    { name: "Naga Siren", tags: ["farming", "splitpush", "lategame"], difficulty: "hard" },
                    { name: "Morphling", tags: ["versatile", "lategame", "mobile"], difficulty: "hard" }
                ],
                // –ü–æ–∑–∏—Ü–∏—è 2 - –ú–∏–¥–µ—Ä
                [
                    { name: "Queen of Pain", tags: ["mobile", "burst", "aggressive"], difficulty: "medium" },
                    { name: "Storm Spirit", tags: ["mobile", "pickoff", "snowball"], difficulty: "hard" },
                    { name: "Invoker", tags: ["versatile", "control", "teamfight"], difficulty: "hard" },
                    { name: "Shadow Fiend", tags: ["aggressive", "farming", "burst"], difficulty: "medium" },
                    { name: "Lina", tags: ["burst", "aggressive", "versatile"], difficulty: "easy" },
                    { name: "Puck", tags: ["mobile", "control", "teamfight"], difficulty: "medium" },
                    { name: "Ember Spirit", tags: ["mobile", "aggressive", "versatile"], difficulty: "hard" },
                    { name: "Templar Assassin", tags: ["aggressive", "snowball", "burst"], difficulty: "medium" },
                    { name: "Zeus", tags: ["burst", "teamfight", "aggressive"], difficulty: "easy" },
                    { name: "Tinker", tags: ["farming", "mobile", "versatile"], difficulty: "hard" }
                ],
                // –ü–æ–∑–∏—Ü–∏—è 3 - –•–∞—Ä–¥–ª–µ–π–Ω–µ—Ä
                [
                    { name: "Axe", tags: ["aggressive", "durable", "teamfight"], difficulty: "easy" },
                    { name: "Centaur Warrunner", tags: ["durable", "teamfight", "control"], difficulty: "easy" },
                    { name: "Tidehunter", tags: ["durable", "teamfight", "control"], difficulty: "easy" },
                    { name: "Mars", tags: ["aggressive", "control", "teamfight"], difficulty: "medium" },
                    { name: "Underlord", tags: ["durable", "versatile", "teamfight"], difficulty: "easy" },
                    { name: "Timbersaw", tags: ["aggressive", "mobile", "durable"], difficulty: "medium" },
                    { name: "Beastmaster", tags: ["versatile", "control", "teamfight"], difficulty: "medium" },
                    { name: "Doom", tags: ["versatile", "control", "durable"], difficulty: "easy" },
                    { name: "Slardar", tags: ["aggressive", "control", "durable"], difficulty: "easy" },
                    { name: "Legion Commander", tags: ["aggressive", "snowball", "durable"], difficulty: "easy" }
                ],
                // –ü–æ–∑–∏—Ü–∏—è 4 - –†–æ—É–º–µ—Ä
                [
                    { name: "Earthshaker", tags: ["teamfight", "control", "aggressive"], difficulty: "medium" },
                    { name: "Rubick", tags: ["versatile", "control", "teamfight"], difficulty: "hard" },
                    { name: "Earth Spirit", tags: ["mobile", "control", "versatile"], difficulty: "hard" },
                    { name: "Tusk", tags: ["aggressive", "pickoff", "snowball"], difficulty: "medium" },
                    { name: "Spirit Breaker", tags: ["aggressive", "mobile", "pickoff"], difficulty: "easy" },
                    { name: "Mirana", tags: ["versatile", "mobile", "pickoff"], difficulty: "medium" },
                    { name: "Clockwerk", tags: ["aggressive", "control", "pickoff"], difficulty: "medium" },
                    { name: "Phoenix", tags: ["teamfight", "durable", "control"], difficulty: "hard" },
                    { name: "Nyx Assassin", tags: ["pickoff", "burst", "mobile"], difficulty: "easy" },
                    { name: "Snapfire", tags: ["versatile", "aggressive", "teamfight"], difficulty: "easy" }
                ],
                // –ü–æ–∑–∏—Ü–∏—è 5 - –§—É–ª–ª-—Å–∞–ø–ø–æ—Ä—Ç
                [
                    { name: "Crystal Maiden", tags: ["control", "teamfight", "versatile"], difficulty: "easy" },
                    { name: "Lion", tags: ["burst", "control", "aggressive"], difficulty: "easy" },
                    { name: "Lich", tags: ["versatile", "teamfight", "balanced"], difficulty: "easy" },
                    { name: "Witch Doctor", tags: ["teamfight", "versatile", "burst"], difficulty: "easy" },
                    { name: "Shadow Shaman", tags: ["control", "versatile", "aggressive"], difficulty: "easy" },
                    { name: "Jakiro", tags: ["versatile", "teamfight", "control"], difficulty: "easy" },
                    { name: "Oracle", tags: ["versatile", "control", "durable"], difficulty: "hard" },
                    { name: "Dazzle", tags: ["versatile", "durable", "balanced"], difficulty: "medium" },
                    { name: "Vengeful Spirit", tags: ["aggressive", "versatile", "teamfight"], difficulty: "easy" },
                    { name: "Warlock", tags: ["teamfight", "control", "durable"], difficulty: "easy" }
                ]
            ],

            questions: [
                {
                    question: "–ö–∞–∫–æ–π —Å—Ç–∏–ª—å –∏–≥—Ä—ã —Ç–µ–±–µ –±–ª–∏–∂–µ?",
                    answers: [
                        { text: "‚öîÔ∏è –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∏–≥—Ä–∞ —Å —Ä–∞–Ω–Ω–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞", tags: ["aggressive"] },
                        { text: "‚öñÔ∏è –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–≥—Ä–∞ ‚Äî –¥—Ä–∞–∫–∏ –∏ —Ñ–∞—Ä–º", tags: ["balanced", "versatile"] },
                        { text: "üåæ –§–æ–∫—É—Å –Ω–∞ —Ñ–∞—Ä–º –∏ –ø–æ–∑–¥–Ω–∏–µ —Å—Ç–∞–¥–∏–∏", tags: ["farming", "lategame"] },
                        { text: "üèÉ –ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø–∏–∫–æ—Ñ—Ñ—ã –ø–æ –∫–∞—Ä—Ç–µ", tags: ["mobile", "pickoff"] }
                    ]
                },
                {
                    question: "–ß—Ç–æ –≤–∞–∂–Ω–µ–µ –¥–ª—è —Ç–µ–±—è –≤ –≥–µ—Ä–æ–µ?",
                    answers: [
                        { text: "üéØ –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–∞—á–∏–Ω–∞—Ç—å –¥—Ä–∞–∫–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ç—å", tags: ["teamfight", "control"] },
                        { text: "üí• –í—ã—Å–æ–∫–∏–π burst —É—Ä–æ–Ω –∏ –±—ã—Å—Ç—Ä—ã–µ —É–±–∏–π—Å—Ç–≤–∞", tags: ["burst", "snowball"] },
                        { text: "üõ°Ô∏è –í—ã–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –∏ —Ç–∞–Ω–∫–æ–≤–æ—Å—Ç—å", tags: ["durable"] },
                        { text: "üîÑ –ì–∏–±–∫–æ—Å—Ç—å –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏", tags: ["versatile"] }
                    ]
                },
                {
                    question: "–ù–∞—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–∂–Ω–æ–≥–æ –≥–µ—Ä–æ—è –≥–æ—Ç–æ–≤ –æ—Å–≤–æ–∏—Ç—å?",
                    answers: [
                        { text: "üòä –ü—Ä–æ—Å—Ç–æ–π –≥–µ—Ä–æ–π ‚Äî —Ö–æ—á—É —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –∏–≥—Ä–µ", tags: ["easy"] },
                        { text: "‚öñÔ∏è –°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å ‚Äî –±–∞–ª–∞–Ω—Å –º–µ—Ö–∞–Ω–∏–∫ –∏ –º–∞–∫—Ä–æ", tags: ["medium"] },
                        { text: "üéì –°–ª–æ–∂–Ω—ã–π –≥–µ—Ä–æ–π ‚Äî –≥–æ—Ç–æ–≤ –∏–∑—É—á–∞—Ç—å –≤—Å–µ –Ω—é–∞–Ω—Å—ã", tags: ["hard"] }
                    ]
                }
            ],

            positionNames: ["–ö–µ—Ä—Ä–∏", "–ú–∏–¥–µ—Ä", "–•–∞—Ä–¥–ª–µ–π–Ω–µ—Ä", "–†–æ—É–º–µ—Ä", "–§—É–ª–ª-—Å–∞–ø–ø–æ—Ä—Ç"],

            init() {
                this.state = {
                    selectedPosition: null,
                    currentQuestionIndex: 0,
                    answers: [],
                    usedSavedPosition: false
                };
                this.showStartScreen();
            },

            showStartScreen() {
                document.getElementById('hero-start').style.display = 'block';
                document.getElementById('hero-position-select').style.display = 'none';
                document.getElementById('hero-questions').style.display = 'none';
                document.getElementById('hero-result').style.display = 'none';
            },

            useSavedPosition() {
                if (lastResult && lastResult.positionIndex !== undefined) {
                    this.state.selectedPosition = lastResult.positionIndex;
                    this.state.usedSavedPosition = true;
                    this.startQuestions();
                }
            },

            showPositionSelect() {
                document.getElementById('hero-start').style.display = 'none';
                document.getElementById('hero-position-select').style.display = 'block';
            },

            selectPosition(index) {
                this.state.selectedPosition = index;
                this.state.usedSavedPosition = false;
                this.startQuestions();
            },

            backToStart() {
                this.showStartScreen();
            },

            startQuestions() {
                this.state.currentQuestionIndex = 0;
                this.state.answers = [];
                
                document.getElementById('hero-start').style.display = 'none';
                document.getElementById('hero-position-select').style.display = 'none';
                document.getElementById('hero-questions').style.display = 'block';
                
                this.showQuestion();
            },

            showQuestion() {
                const question = this.questions[this.state.currentQuestionIndex];
                const progress = ((this.state.currentQuestionIndex + 1) / this.questions.length) * 100;
                
                document.getElementById('heroProgressBar').style.width = progress + '%';
                document.getElementById('heroQuestion').textContent = question.question;
                
                const answersContainer = document.getElementById('heroAnswers');
                answersContainer.innerHTML = '';
                
                question.answers.forEach((answer, index) => {
                    const parts = answer.text.split(' ');
                    const emoji = parts[0];
                    const text = parts.slice(1).join(' ');
                    
                    const button = document.createElement('button');
                    button.className = 'answer-btn';
                    button.innerHTML = `
                        <span class="emoji">${emoji}</span>
                        <span class="text">${text}</span>
                    `;
                    button.onclick = () => this.selectAnswer(index);
                    answersContainer.appendChild(button);
                });
            },

            selectAnswer(index) {
                const question = this.questions[this.state.currentQuestionIndex];
                this.state.answers.push(question.answers[index]);
                
                const buttons = document.querySelectorAll('#heroAnswers .answer-btn');
                buttons.forEach((btn, i) => {
                    if (i === index) {
                        btn.classList.add('selected');
                    }
                });
                
                setTimeout(() => {
                    this.state.currentQuestionIndex++;
                    if (this.state.currentQuestionIndex < this.questions.length) {
                        this.showQuestion();
                    } else {
                        this.showResult();
                    }
                }, 300);
            },

            calculateTopHeroes() {
                const allTags = [];
                this.state.answers.forEach(answer => {
                    allTags.push(...answer.tags);
                });

                const tagFrequency = {};
                allTags.forEach(tag => {
                    tagFrequency[tag] = (tagFrequency[tag] || 0) + 1;
                });

                let selectedDifficulty = null;
                this.state.answers.forEach(answer => {
                    if (answer.tags.includes('easy')) selectedDifficulty = 'easy';
                    else if (answer.tags.includes('medium')) selectedDifficulty = 'medium';
                    else if (answer.tags.includes('hard')) selectedDifficulty = 'hard';
                });

                const heroes = this.heroDatabase[this.state.selectedPosition];
                const scoredHeroes = heroes.map(hero => {
                    let score = 0;
                    
                    hero.tags.forEach(tag => {
                        if (tagFrequency[tag]) {
                            score += tagFrequency[tag];
                        }
                    });
                    
                    if (selectedDifficulty && hero.difficulty === selectedDifficulty) {
                        score += 2;
                    }
                    
                    return { ...hero, score };
                });

                scoredHeroes.sort((a, b) => b.score - a.score);
                return scoredHeroes.slice(0, 5);
            },

            showResult() {
                document.getElementById('hero-questions').style.display = 'none';
                
                const topHeroes = this.calculateTopHeroes();
                const positionName = this.positionNames[this.state.selectedPosition];
                
                document.getElementById('heroResultPosition').textContent = `–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –¥–ª—è ${positionName}`;
                
                const topTags = {};
                this.state.answers.forEach(answer => {
                    answer.tags.forEach(tag => {
                        if (tag !== 'easy' && tag !== 'medium' && tag !== 'hard') {
                            topTags[tag] = (topTags[tag] || 0) + 1;
                        }
                    });
                });
                
                const sortedTags = Object.entries(topTags).sort((a, b) => b[1] - a[1]);
                const top3Tags = sortedTags.slice(0, 3).map(t => t[0]);
                
                const tagNames = {
                    aggressive: "–∞–≥—Ä–µ—Å—Å–∏—é",
                    balanced: "–±–∞–ª–∞–Ω—Å",
                    versatile: "—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å",
                    farming: "—Ñ–∞—Ä–º",
                    lategame: "–ª–µ–π—Ç–≥–µ–π–º",
                    mobile: "–º–æ–±–∏–ª—å–Ω–æ—Å—Ç—å",
                    pickoff: "–ø–∏–∫–æ—Ñ—Ñ—ã",
                    teamfight: "–∫–æ–º–∞–Ω–¥–Ω—ã–µ –¥—Ä–∞–∫–∏",
                    control: "–∫–æ–Ω—Ç—Ä–æ–ª—å",
                    burst: "–±—ë—Ä—Å—Ç —É—Ä–æ–Ω",
                    snowball: "—Å–Ω–µ–∂–Ω—ã–π –∫–æ–º",
                    durable: "–∂–∏–≤—É—á–µ—Å—Ç—å",
                    splitpush: "—Å–ø–ª–∏—Ç-–ø—É—à"
                };
                
                const tagList = top3Tags.map(tag => tagNames[tag] || tag).join(', ');
                document.getElementById('heroResultDescription').textContent = 
                    `–ù–∞ –æ—Å–Ω–æ–≤–µ —Ç–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤, –º—ã –ø–æ–¥–æ–±—Ä–∞–ª–∏ –≥–µ—Ä–æ–µ–≤ —Å —É–ø–æ—Ä–æ–º –Ω–∞: ${tagList}. –ü–æ–ø—Ä–æ–±—É–π –∏—Ö –≤ –∏–≥—Ä–µ!`;
                
                const heroListContainer = document.getElementById('heroResultList');
                heroListContainer.innerHTML = '';
                
                topHeroes.forEach((hero, index) => {
                    const heroItem = document.createElement('div');
                    heroItem.className = 'hero-item';
                    heroItem.innerHTML = `
                        <span class="hero-rank">${index + 1}.</span>
                        <div style="flex: 1;">
                            <div class="hero-name">${hero.name}</div>
                            <div class="hero-tags">${hero.tags.slice(0, 3).join(' ¬∑ ')}</div>
                        </div>
                    `;
                    heroListContainer.appendChild(heroItem);
                });
                
                document.getElementById('hero-result').style.display = 'block';
            },

            restart() {
                this.init();
            }
        };

        function startHeroQuiz() {
            document.getElementById('quiz-list').style.display = 'none';
            document.getElementById('quiz-content-container').style.display = 'none';
            document.getElementById('hero-quiz-container').style.display = 'block';
            heroQuiz.init();
        }

        function updateHeroQuizStart() {
            const btn = document.getElementById('useSavedPositionBtn');
            const textSpan = document.getElementById('savedPositionText');
            
            if (lastResult && lastResult.positionIndex !== undefined) {
                btn.disabled = false;
                btn.style.opacity = '1';
                textSpan.textContent = `–¢–≤–æ—è –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–∑–∏—Ü–∏—è: ${lastResult.posShort}`;
            } else {
                btn.disabled = true;
                btn.style.opacity = '0.5';
                textSpan.textContent = '–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –ø–æ –ø–æ–∑–∏—Ü–∏—è–º';
            }
        }
    </script>
</body>
</html>